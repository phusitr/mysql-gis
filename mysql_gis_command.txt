
COMMAND
===========================
Mysql to GeoJSON 
===========================

[1] Create database and table.
+----------------+----------+------+-----+---------+----------------+
| Field          | Type     | Null | Key | Default | Extra          |
+----------------+----------+------+-----+---------+----------------+
| id             | int      | NO   | PRI | NULL    | auto_increment |
| polygon_column | geometry | YES  |     | NULL    |                |
+----------------+----------+------+-----+---------+----------------+


[2] INSERT INTO polygon_exam (polygon_column) VALUES (ST_GeomFromText('POLYGON((-73.98802947998047 40.74894548445552, -73.98260116577148 40.74888146479603, -73.98260116577148 40.75364612014851,
-73.98802947998047 40.75371013776844, -73.98802947998047 40.74894548445552))'));

  OR

SET @g = ST_GeomFromText('POLYGON((-73.98802947998047 40.74894548445552, -73.98260116577148 40.74888146479603, -73.98260116577148 40.75364612014851, -73.98802947998047 40.75371013776844, -73.98802947998047 40.74894548445552))',4326)
INSERT INTO polygon_exam (polygon_column) VALUES (ST_GeomFromWKB(ST_AsWKB(@g)));
SELECT ST_AsText(polygon_column) AS polygon_wkt FROM polygon_exam;


[3] SELECT ST_AsGeoJSON(ST_GeomFromText(polygon_column)) AS polygon_geojson FROM polygon_exam WHERE id =1 ;

  OR

SELECT
  JSON_MERGE(
    ST_AsGeoJSON(polygon_column),
    JSON_OBJECT(
      'properties', JSON_OBJECT(
        'property_name1', id   -- column 
      )
    )
  ) AS polygon_geojson
FROM polygon_exam
WHERE id = 4;


OUTPUT
=====
-------------------------------------------------------------------------------------------------------------------+
| polygon_geojson                                                                                                                                                                                                                                                                          |
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| {"type": "Polygon", "properties": {"property_name1": 4}, "coordinates": [[[-73.98802947998047, 40.74894548445552], [-73.98260116577148, 40.74888146479603], [-73.98260116577148, 40.75364612014851], [-73.98802947998047, 40.75371013776844], [-73.98802947998047, 40.74894548445552]]]} |
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+


